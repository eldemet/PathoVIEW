type: object
required:
  - id
  - type
  - name
  - owner
  - location
model:searchProperties:
  - description
model:defaultProperty: name
ui:filters:
  - status
  - assignedTo
db:referencedByModels:
  - model: Annotation
    property: refId
    handling: deleteObject
db:options:
  timestamps: true
properties:
  id:
    $ref: './../$defs.yaml#/NGSIentityFormat'
    default: Mission:00000
    ui:hide:
      table: true
      form: true
      info: true
  type:
    const: Mission
    ui:hide:
      form: true
      table: true
      info: true
  name:
    type: string
    description: 'descriptions.mission.name'
    ui:formItemGridClass: 'col-md-8'
  description:
    type: string
    ui:formItemType: textarea
    ui:hide:
      table: true
  status:
    type: string
    enum:
      - open
      - inProgress
      - successful
      - unsuccessful
      - overdue
      - cancelled
    ui:formItemType: select
    ui:formItemGridClass: 'col-md-6'
    ui:i18n: true
    ui:i18nPathPrefix: enum.mission.status
    ui:contentCustomCompose: 'resources/elements/custom-content-items/custom-content-item-status'
    ui:formItemCustomCompose: 'resources/elements/custom-form-items/custom-form-item-status'
    ui:detailCustomCompose: 'resources/elements/custom-detail-properties/custom-detail-property-status'
  owner:
    $ref: './../$defs.yaml#/owner'
  assignedTo:
    type: string
    ui:formItemType: select
    ui:formItemGridClass: 'col-md-8'
    ui:detailCustomCompose: 'resources/elements/custom-detail-properties/custom-detail-property-role'
    ui:contentCustomCompose: 'resources/elements/custom-content-items/custom-content-item-role'
    ui:ref: Auth
  refId:
    type: string
    ui:dependence:
      source: cookie
      property: emergency-event
    ui:hide:
      table: true
      form: true
      info: true
  location:
    $ref: './../$defs.yaml#/Location'
  address:
    $ref: './../$defs.yaml#/Address'
  createdAt:
    type: string
    format: "date-time"
    db:skipInSchemaDefinition: true
    ui:hide:
      table: true
      form: true
  updatedAt:
    type: string
    format: "date-time"
    db:skipInSchemaDefinition: true
    ui:hide:
      table: true
      form: true
