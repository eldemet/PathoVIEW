type: object
description: 'An alert generated by a user or device in a given location'
required:
  - id
  - type
  - alertSource
  - category
  - dateIssued
model:searchProperties:
  - name
properties:
  id:
    $ref: './../$defs.yaml#/NGSIentityFormat'
    description: 'Unique identifier of the entity'
    default: Alert:00000
    ui:hide:
      table: true
      form: true
  type:
    type: string
    description: 'NGSI Entity type. It has to be Alert.'
    enum:
      - Alert
    default: Alert
    ui:hide:
      form: true
      table: true
  name:
    type: string
    description: 'The name of this item.'
    ui:formItemType: text
    ui:formItemGridClass: 'col-md-6'
  alternateName:
    type: string
    description: 'An alternative name for this item'
    ui:formItemType: text
    ui:formItemGridClass: 'col-md-6'
  description:
    type: string
    description: 'A description of this item'
    ui:formItemType: textarea
  severity:
    type: string
    description: 'Severity of the Alarm'
    enum:
      - informational
      - low
      - medium
      - high
      - critical
    ui:formItemType: select
    ui:formItemGridClass: 'col-12 col-xl-4'
    ui:i18n: true
    ui:i18nPathPrefix: enum.alert.severity
  category:
    type: string
    description: 'Category of the Alert. Enum:''traffic, naturalDisaster, weather, environment, health, security, agriculture'''
    enum:
      - naturalDisaster
      - weather
      - environment
      - security
      - agriculture
    ui:formItemType: select
    ui:formItemGridClass: 'col-md-6 col-xl-4'
    ui:i18n: true
    ui:i18nPathPrefix: enum.alert.category
  subCategory:
    type: string
    description: 'Describe the sub category of alert. Enum:''trafficJam, carAccident, carWrongDirection, carStopped, pothole, roadClosed, roadWorks, hazardOnRoad, injuredBiker, pedestrianOnRoad, bikerOnRoad, tramApproaching, flood, tsunami, coastalEvent, earthquake, rainfall, highTemperature, lowTemperature, heatWave, coldWave, ice, snow, wind, fog, tornado, tropicalCyclone, hurricane, snow/ice, thunderstorms, fireRisk, avalancheRisk, floodRisk, airPollution, waterPollution, pollenConcentration, asthmaAttack, bumpedPatient, fallenPatient, heartAttack, suspiciousAction, robbery, assault, civilDisorder, buildingFire, forestFire, noxiousWeed, snail, insect, rodent, bacteria, microbe, fungus,mite, virus, nematodes, irrigation, fertilisation'
    'ui:formItemEnumRules':
      - property: category
        conditionSchema:
          const: naturalDisaster
        enum:
          - flood
          - tsunami
          - coastalEvent
          - earthquake
      - property: category
        conditionSchema:
          const: weather
        enum:
          - tornado
          - hurricane
          - tropicalCyclone
      - property: category
        conditionSchema:
          const: environment
        enum:
          - waterPollution
          - airPollution
      - property: category
        conditionSchema:
          const: security
        enum:
          - assault
          - crowdRisk
          - suspiciousAction
      - property: category
        conditionSchema:
          const: agriculture
        enum:
          - bacteria
          - microbe
          - fungus
          - mite
          - virus
          - nematodes
          - irrigation
          - fertilisation
    ui:formItemType: select
    ui:formItemGridClass: 'col-md-6 col-xl-4'
    ui:i18n: true
    ui:i18nPathPrefix: enum.alert.subCategory
  owner:
    $ref: './../$defs.yaml#/owner'
  seeAlso:
    $ref: './../$defs.yaml#/seeAlso'
  source:
    type: string
    description: 'A sequence of characters giving the original source of the entity data as a URL. Recommended to be the fully qualified domain name of the source provider, or the URL to the source object.'
    ui:formItemType: text
  alertSource:
    $ref: './../$defs.yaml#/NGSIentityFormat'
    description: 'Source of the alert'
    ui:formItemType: text
  dataProvider:
    type: string
    description: 'A sequence of characters identifying the provider of the harmonised data entity.'
    ui:hide:
      table: true
  data:
    type: object
    description: 'Payload containing the data retrieved.'
    ui:hide:
      table: true
    ui:formItemType: object
    properties:
      image:
        type: string
        ui:formItemCustomCompose: 'resources/elements/custom-form-items/custom-form-item-image'
  dateIssued:
    type: string
    description: 'The date and time the item was issued in ISO8601 UTC format.'
    format: date-time
    ui:hide:
      table: true
  dateCreated:
    type: string
    description: 'Entity creation timestamp. This will usually be allocated by the storage platform.'
    format: date-time
    ui:hide:
      table: true
  dateModified:
    type: string
    description: 'Timestamp of the last modification of the entity. This will usually be allocated by the storage platform.'
    format: date-time
    ui:hide:
      table: true
  validFrom:
    type: string
    description: 'The start of the validity period for this forecast as a ISO8601 format'
    format: date-time
    ui:formItemType: date-time
    ui:formItemGridClass: 'col-md-6'
  validTo:
    type: string
    description: 'The end of the validity period for this forecast as a ISO8601 format'
    format: date-time
    ui:formItemType: date-time
    ui:formItemGridClass: 'col-md-6'
  address:
    $ref: './../$defs.yaml#/Address'
  areaServed:
    type: string
    description: 'The geographic area where a service or offered item is provided'
    ui:formItemType: text
  location:
    $ref: './../$defs.yaml#/Location'
    ui:formItemCustomCompose: 'resources/elements/custom-form-items/custom-form-item-map'
    ui:detailCustomCompose: 'resources/elements/custom-detail-properties/custom-detail-property-map'
    ui:hide:
      table: true
