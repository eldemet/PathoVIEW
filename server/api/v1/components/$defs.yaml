NGSIentityFormat:
  description: 'Property. Identifier format of any NGSI entity'
  maxLength: 256
  minLength: 1
  pattern: ^[\w\-\.\{\}\$\+\*\[\]`|~^@!,:\\]+$
  type: string

Location:
  ui:formItemCustomCompose: 'resources/elements/custom-form-items/custom-form-item-map'
  ui:detailCustomCompose: 'resources/elements/custom-detail-properties/custom-detail-property-map'
  ui:hide:
    table: true
  oneOf:
    - description: 'Geoproperty. Geojson reference to the item. Point'
      properties:
        bbox:
          items:
            type: number
          minItems: 4
          type: array
        coordinates:
          items:
            type: number
          minItems: 2
          type: array
        type:
          enum:
            - Point
          type: string
      required:
        - type
        - coordinates
      title: 'GeoJSON Point'
      type: object
    - description: 'Geoproperty. Geojson reference to the item. LineString'
      properties:
        bbox:
          items:
            type: number
          minItems: 4
          type: array
        coordinates:
          items:
            items:
              type: number
            minItems: 2
            type: array
          minItems: 2
          type: array
        type:
          enum:
            - LineString
          type: string
      required:
        - type
        - coordinates
      title: 'GeoJSON LineString'
      type: object
    - description: 'Geoproperty. Geojson reference to the item. Polygon'
      properties:
        bbox:
          items:
            type: number
          minItems: 4
          type: array
        coordinates:
          items:
            items:
              items:
                type: number
              minItems: 2
              type: array
            minItems: 4
            type: array
          type: array
        type:
          enum:
            - Polygon
          type: string
      required:
        - type
        - coordinates
      title: 'GeoJSON Polygon'
      type: object
    - description: 'Geoproperty. Geojson reference to the item. MultiPoint'
      properties:
        bbox:
          items:
            type: number
          minItems: 4
          type: array
        coordinates:
          items:
            items:
              type: number
            minItems: 2
            type: array
          type: array
        type:
          enum:
            - MultiPoint
          type: string
      required:
        - type
        - coordinates
      title: 'GeoJSON MultiPoint'
      type: object
    - description: 'Geoproperty. Geojson reference to the item. MultiLineString'
      properties:
        bbox:
          items:
            type: number
          minItems: 4
          type: array
        coordinates:
          items:
            items:
              items:
                type: number
              minItems: 2
              type: array
            minItems: 2
            type: array
          type: array
        type:
          enum:
            - MultiLineString
          type: string
      required:
        - type
        - coordinates
      title: 'GeoJSON MultiLineString'
      type: object
    - description: 'Geoproperty. Geojson reference to the item. MultiLineString'
      properties:
        bbox:
          items:
            type: number
          minItems: 4
          type: array
        coordinates:
          items:
            items:
              items:
                items:
                  type: number
                minItems: 2
                type: array
              minItems: 4
              type: array
            type: array
          type: array
        type:
          enum:
            - MultiPolygon
          type: string
      required:
        - type
        - coordinates
      title: 'GeoJSON MultiPolygon'
      type: object

Address:
  type: object
  ui:hide:
    table: true
  required:
    - addressLocality
  properties:
    postalCode:
      type: string
      ui:formItemGridClass: 'col-md-5'
    addressLocality:
      type: string
      ui:formItemGridClass: 'col-md-5'
    streetAddress:
      type: string
      ui:formItemGridClass: 'col-8'
    streetNr:
      type: string
      ui:formItemGridClass: 'col-2'

owner:
  type: array
  description: 'A List containing a JSON encoded sequence of characters referencing the unique Ids of the owner(s)'
  ui:dependence:
    source: serviceFunction
    serviceName: auth
    functionToCall: getUserId
  ui:detailCustomCompose: 'resources/elements/custom-detail-properties/custom-detail-property-owner'
  ui:hide:
    table: true
    form: true
  items:
    $ref: '#/NGSIentityFormat'
    description: 'Property. Unique identifier of the entity'

seeAlso:
  type: array
  description: 'list of uri pointing to additional resources about the item'
  items:
    type: string
    format: uri
    ui:formItemType: text
  minItems: 1
  ui:hide:
    table: true
  db:skipInSchemaDefinition: true
