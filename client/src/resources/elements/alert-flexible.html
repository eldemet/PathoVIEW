<template>

    <require from='library-aurelia/src/resources/value-converters/object-keys'></require>

    <div repeat.for="alert of alerts"
         class="alert alert-${alert.type} ${alert.dismissible ? 'alert-dismissible' : ''} mb-1 rounded">
        <div class="d-flex flex-row align-items-center">
            <i if.bind="!alert.image" class="${alert.icon}"></i>
            <img if.bind="alert.image" class="image-3rem" src.bind="alert.image">
            <div class="d-flex flex-column ps-3">
                <strong>
                    ${alert.message | t: alert.translateOptions}<a if.bind="alert.link" href.bind="alert.link.href" class="alert-link">: ${alert.link.name}</a>
                </strong>
                <div repeat.for="property of alert.properties | objectKeys">
                    ${'propertyKeys.' + property | t}: <span>${alert.properties[property]}</span>
                </div>
            </div>
            <button if.bind="alert.dismissible"
                    type="button"
                    class="btn-close d-flex"
                    style="top: unset"
                    data-bs-dismiss="alert"
                    click.delegate="closeAlert(alert.id)"
                    aria-label="Close">
            </button>
        </div>
    </div>

</template>
